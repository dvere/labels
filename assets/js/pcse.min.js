function e(e,t,n,r){let F={tab:r};"TBA"!=t&&(t=t.split("/").reverse().join("-"),F.DateRangeStart=F.DateRangeEnd=t,F.SearchOn=5);let i={url:"/portal/Logistics/Orders",xhrFields:{withCredentials:!0},method:"GET",dataType:"html",data:F};$.ajax(i).done(function(e){return $(e).text()}).then(function(t){return $(t).find("tr:contains("+e+")").children().eq(9)}).then(function(e){n.unshift($(e).html().split("<br>").sort().reverse()[0]),function(e){for(var t=e.pop(),n=(e=e.map(function(e,t){return"^FN"+t+"^FD"+e+"^FS"})).join("\n"),r="",F=t;F>0;F--)r+="^XA\n^XFR:DELIVERY.GRF^FS\n"+n+"\n^FN8^FDPieces: "+F+" of "+t+"^FS\n^XZ";$("body").css({visibility:"hidden"}),$("<div>",{id:"output"}).appendTo($("body")),$("#output").css({visibility:"visible",display:"block",position:"absolute",top:0,left:0,right:0,"z-index":9999}).html("<pre>${^XA^DFR:DELIVERY.GRF^PON^LS0^LH25,15\n    ^FO5,5^GB780,1200,4^FS\n    ^FO5,240^GB780,860,3^FS\n    ^FO5,420^GB480,180,3^FS\n    ^FO482,240^GB302,360,3^FS\n    ^FO5,660^GB780,1,3^FS\n    ^FO5,820^GB780,1,3^FS\n    ^FO5,970^GB780,1,3^FS\n    ^FO215,60^BY2^BCN,150,N^FN0^FS\n    ^FO5,25^A0N,30^FB780,1,0,C^FN0^FS\n    ^FO15,275^A0N,140^FB480,1,0,C^FN1^FS\n    ^FO15,455^A0N,140^FB480,1,0,C^FN2^FS\n    ^FO500,365^A0N,140^FB280,1,0,C^FN3^FS\n    ^FO5,615^A0N,40^FB780,1,0,C^FN4^FS\n    ^FO15,700^A0N,100^FB780,1,0,C^FN6^FS\n    ^FO150,840^A0N,24^FN4^FS\n    ^FO150,870^A0N,24^FN5^FS\n    ^FO150,900^A0N,24^FN6^FS\n    ^FO15,1000^A0N,100^FB780,1,0,C^FN8^FS\n    ^FO170,1120^BY2^BCN,55,Y^FN7^FS\n^XZ\n"+r+"}$</pre>"),$("#output pre").css({"border-style":"none","border-color":"transparent",color:"black","background-color":"white"}),window.print(),$("#output").remove(),$("body").removeAttr("style")}(n)})}$.when($.ready).then(function(){var t;if("Order"==window.location.pathname.split("/")[3]){var n=$("#OrderStatusId").val();if(141560002==n)t="ReadyForDespatch";else if(141560003==n)t="Despatched";else{if(100001!=n)return;t="Complete"}var r=prompt("Enter number of packages:",1);if(null==r||""==r||isNaN(r))console.log("Input quantity error or cancelled by user");else{var F=$("h3").eq(0).text().trim().split(" ")[2],i=$("nav.account-links").find("li").eq(1).text().trim(),o={BASINGSTOKE:"BS",BECKTON:"CV",BIRMINGHAM:"BP",BRISTOL:"BL",CAMBRIDGE:"CB",GATWICK:"CW",LEEDS:"LD",LETCHWORTH:"LE",MANCHESTER:"MA",MEDWAY:"ME",MILTON:"MK",NEWCASTLE:"NE",NORWICH:"NR",NOTTINGHAM:"NG",PLYMOUTH:"PL",READING:"NB",SLOUGH:"3S",SOUTHAMPTON:"SO",SWINDON:"SW",TELFORD:"TF",WARWICK:"MC"}[i.substr(0,i.indexOf(" ")).toUpperCase()],s={};$(".pcss-order-summary").find(".col-md-5").each(function(e,t){var n=$(".pcss-order-summary").find(".col-md-7").eq(e).text().trim();s[$(t).text()]=n});var a=s["Expected Delivery Date"],N=s["Shipping Address"].split(","),l=N.shift(),d=N.pop();e(F,a,[s["Delivery Route And Stop"].substr(0,4),s["Location Code"],o,l,N,d,F,r],t)}}});
//# sourceMappingURL=pcse.min.js.map